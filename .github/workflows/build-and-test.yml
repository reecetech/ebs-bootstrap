name: Build and Test ğŸ”¨
on: [push]

jobs:
  test:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        architecture: [amd64, arm64]
    name: Build and Test (${{ matrix.architecture }}) ğŸ”¨
    steps:
      - uses: actions/checkout@v4
      - name: Set up QEMU
        uses: docker/setup-qemu-action@v3
        with:
          platforms: ${{ matrix.architecture }}
      - name: Build and Test ğŸ”¨
        run: ./build/docker.sh --architecture ${{ matrix.architecture }}
